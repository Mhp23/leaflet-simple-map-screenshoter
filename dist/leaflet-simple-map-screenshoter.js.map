{"version":3,"file":"leaflet-simple-map-screenshoter.js","sources":["../node_modules/dom-to-image-more/dist/dom-to-image-more.min.js","../node_modules/file-saver/dist/FileSaver.min.js","../src/SimpleMapScreenshoter.js","../src/bootstrap.js"],"sourcesContent":["/*! dom-to-image-more 14-02-2024 */\n!function(s){\"use strict\";const d=function(){let e=0;return{escape:function(e){return e.replace(/([.*+?^${}()|[]\\/\\\\])/g,\"\\\\$1\")},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(t){if(t.toBlob)return new Promise(function(e){t.toBlob(e)});return function(i){return new Promise(function(e){var t=u(i.toDataURL().split(\",\")[1]),n=t.length,o=new Uint8Array(n);for(let e=0;e<n;e++)o[e]=t.charCodeAt(e);e(new Blob([o],{type:\"image/png\"}))})}(t)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),o=n.createElement(\"base\"),i=(n.head.appendChild(o),n.createElement(\"a\"));return n.body.appendChild(i),o.href=t,i.href=e,i.href},getAndEncode:function(u){let e=c.impl.urlCache.find(function(e){return e.url===u});e||(e={url:u,promise:null},c.impl.urlCache.push(e));null===e.promise&&(c.impl.options.cacheBust&&(u+=(/\\?/.test(u)?\"&\":\"?\")+(new Date).getTime()),e.promise=new Promise(function(t){const e=c.impl.options.httpTimeout,n=new XMLHttpRequest;if(n.onreadystatechange=function(){if(4===n.readyState)if(300<=n.status)i?t(i):r(`cannot fetch resource: ${u}, status: `+n.status);else{const e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(n.response)}},n.ontimeout=function(){i?t(i):r(`timeout of ${e}ms occured while fetching resource: `+u)},n.responseType=\"blob\",n.timeout=e,0<c.impl.options.useCredentialsFilters.length&&(c.impl.options.useCredentials=0<c.impl.options.useCredentialsFilters.filter(e=>0<=u.search(e)).length),c.impl.options.useCredentials&&(n.withCredentials=!0),c.impl.options.corsImg&&0===u.indexOf(\"http\")&&-1===u.indexOf(window.location.origin)){var o=\"POST\"===(c.impl.options.corsImg.method||\"GET\").toUpperCase()?\"POST\":\"GET\";n.open(o,(c.impl.options.corsImg.url||\"\").replace(\"#{cors}\",u),!0);let t=!1;const s=c.impl.options.corsImg.headers||{},l=(Object.keys(s).forEach(function(e){-1!==s[e].indexOf(\"application/json\")&&(t=!0),n.setRequestHeader(e,s[e])}),function(e){try{return JSON.parse(JSON.stringify(e))}catch(e){r(\"corsImg.data is missing or invalid\")}}(c.impl.options.corsImg.data||\"\"));Object.keys(l).forEach(function(e){\"string\"==typeof l[e]&&(l[e]=l[e].replace(\"#{cors}\",u))}),n.send(t?JSON.stringify(l):l)}else n.open(\"GET\",u,!0),n.send();let i;function r(e){console.error(e),t(\"\")}c.impl.options.imagePlaceholder&&(o=c.impl.options.imagePlaceholder.split(/,/))&&o[1]&&(i=o[1])}));return e.promise},uid:function(){return\"u\"+(\"0000\"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+e++},delay:function(n){return function(t){return new Promise(function(e){setTimeout(function(){e(t)},n)})}},asArray:function(t){var n=[],o=t.length;for(let e=0;e<o;e++)n.push(t[e]);return n},escapeXhtml:function(e){return e.replace(/%/g,\"%25\").replace(/#/g,\"%23\").replace(/\\n/g,\"%0A\")},makeImage:function(o){return\"data:,\"!==o?new Promise(function(e,t){const n=new Image;c.impl.options.useCredentials&&(n.crossOrigin=\"use-credentials\"),n.onload=function(){window&&window.requestAnimationFrame?window.requestAnimationFrame(function(){e(n)}):e(n)},n.onerror=t,n.src=o}):Promise.resolve()},width:function(e){var t=r(e,\"width\");if(!isNaN(t))return t;var t=r(e,\"border-left-width\"),n=r(e,\"border-right-width\");return e.scrollWidth+t+n},height:function(e){var t=r(e,\"height\");if(!isNaN(t))return t;var t=r(e,\"border-top-width\"),n=r(e,\"border-bottom-width\");return e.scrollHeight+t+n},getWindow:t,isElement:i,isElementHostForOpenShadowRoot:function(e){return i(e)&&null!==e.shadowRoot},isShadowRoot:n,isInShadowRoot:o,isHTMLElement:function(e){return e instanceof t(e).HTMLElement},isHTMLCanvasElement:function(e){return e instanceof t(e).HTMLCanvasElement},isHTMLInputElement:function(e){return e instanceof t(e).HTMLInputElement},isHTMLImageElement:function(e){return e instanceof t(e).HTMLImageElement},isHTMLLinkElement:function(e){return e instanceof t(e).HTMLLinkElement},isHTMLScriptElement:function(e){return e instanceof t(e).HTMLScriptElement},isHTMLStyleElement:function(e){return e instanceof t(e).HTMLStyleElement},isHTMLTextAreaElement:function(e){return e instanceof t(e).HTMLTextAreaElement},isShadowSlotElement:function(e){return o(e)&&e instanceof t(e).HTMLSlotElement},isSVGElement:function(e){return e instanceof t(e).SVGElement},isSVGRectElement:function(e){return e instanceof t(e).SVGRectElement},isDimensionMissing:function(e){return isNaN(e)||e<=0}};function t(e){e=e?e.ownerDocument:void 0;return(e?e.defaultView:void 0)||s||window}function n(e){return e instanceof t(e).ShadowRoot}function o(e){return null!==e&&Object.prototype.hasOwnProperty.call(e,\"getRootNode\")&&n(e.getRootNode())}function i(e){return e instanceof t(e).Element}function r(t,n){if(t.nodeType===a){let e=m(t).getPropertyValue(n);if(\"px\"===e.slice(-2))return e=e.slice(0,-2),parseFloat(e)}return NaN}}(),i=function(){const o=/url\\(['\"]?([^'\"]+?)['\"]?\\)/g;return{inlineAll:function(t,o,i){if(!e(t))return Promise.resolve(t);return Promise.resolve(t).then(n).then(function(e){let n=Promise.resolve(t);return e.forEach(function(t){n=n.then(function(e){return r(e,t,o,i)})}),n})},shouldProcess:e,impl:{readUrls:n,inline:r}};function e(e){return-1!==e.search(o)}function n(e){for(var t,n=[];null!==(t=o.exec(e));)n.push(t[1]);return n.filter(function(e){return!d.isDataUrl(e)})}function r(n,o,t,e){return Promise.resolve(o).then(function(e){return t?d.resolveUrl(e,t):e}).then(e||d.getAndEncode).then(function(e){return n.replace((t=o,new RegExp(`(url\\\\(['\"]?)(${d.escape(t)})(['\"]?\\\\))`,\"g\")),`$1${e}$3`);var t})}}(),e={resolveAll:function(){return t().then(function(e){return Promise.all(e.map(function(e){return e.resolve()}))}).then(function(e){return e.join(\"\\n\")})},impl:{readAll:t}};function t(){return Promise.resolve(d.asArray(document.styleSheets)).then(function(e){const n=[];return e.forEach(function(t){if(Object.prototype.hasOwnProperty.call(Object.getPrototypeOf(t),\"cssRules\"))try{d.asArray(t.cssRules||[]).forEach(n.push.bind(n))}catch(e){console.error(\"domtoimage: Error while reading CSS rules from \"+t.href,e.toString())}}),n}).then(function(e){return e.filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).filter(function(e){return i.shouldProcess(e.style.getPropertyValue(\"src\"))})}).then(function(e){return e.map(t)});function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return i.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue(\"src\")}}}}const n={inlineAll:function t(e){if(!d.isElement(e))return Promise.resolve(e);return n(e).then(function(){return d.isHTMLImageElement(e)?o(e).inline():Promise.all(d.asArray(e.childNodes).map(function(e){return t(e)}))});function n(o){const e=[\"background\",\"background-image\"],t=e.map(function(t){const e=o.style.getPropertyValue(t),n=o.style.getPropertyPriority(t);return e?i.inlineAll(e).then(function(e){o.style.setProperty(t,e,n)}):Promise.resolve()});return Promise.all(t).then(function(){return o})}},impl:{newImage:o}};function o(n){return{inline:function(e){if(d.isDataUrl(n.src))return Promise.resolve();return Promise.resolve(n.src).then(e||d.getAndEncode).then(function(t){return new Promise(function(e){n.onload=e,n.onerror=e,n.src=t})})}}}const l={copyDefaultStyles:!0,imagePlaceholder:void 0,cacheBust:!1,useCredentials:!1,useCredentialsFilters:[],httpTimeout:3e4,styleCaching:\"strict\",corsImg:void 0,adjustClonedNode:void 0},c={toSvg:f,toPng:function(e,t){return r(e,t).then(function(e){return e.toDataURL()})},toJpeg:function(e,t){return r(e,t).then(function(e){return e.toDataURL(\"image/jpeg\",(t?t.quality:void 0)||1)})},toBlob:function(e,t){return r(e,t).then(d.canvasToBlob)},toPixelData:function(t,e){return r(t,e).then(function(e){return e.getContext(\"2d\").getImageData(0,0,d.width(t),d.height(t)).data})},toCanvas:r,impl:{fontFaces:e,images:n,util:d,inliner:i,urlCache:[],options:{}}},a=(\"object\"==typeof exports&&\"object\"==typeof module?module.exports=c:s.domtoimage=c,(\"undefined\"!=typeof Node?Node.ELEMENT_NODE:void 0)||1),m=(void 0!==s?s.getComputedStyle:void 0)||(\"undefined\"!=typeof window?window.getComputedStyle:void 0)||globalThis.getComputedStyle,u=(void 0!==s?s.atob:void 0)||(\"undefined\"!=typeof window?window.atob:void 0)||globalThis.atob;function f(e,i){const t=c.impl.util.getWindow(e);var n=i=i||{};void 0===n.copyDefaultStyles?c.impl.options.copyDefaultStyles=l.copyDefaultStyles:c.impl.options.copyDefaultStyles=n.copyDefaultStyles,void 0===n.imagePlaceholder?c.impl.options.imagePlaceholder=l.imagePlaceholder:c.impl.options.imagePlaceholder=n.imagePlaceholder,void 0===n.cacheBust?c.impl.options.cacheBust=l.cacheBust:c.impl.options.cacheBust=n.cacheBust,void 0===n.corsImg?c.impl.options.corsImg=l.corsImg:c.impl.options.corsImg=n.corsImg,void 0===n.useCredentials?c.impl.options.useCredentials=l.useCredentials:c.impl.options.useCredentials=n.useCredentials,void 0===n.useCredentialsFilters?c.impl.options.useCredentialsFilters=l.useCredentialsFilters:c.impl.options.useCredentialsFilters=n.useCredentialsFilters,void 0===n.httpTimeout?c.impl.options.httpTimeout=l.httpTimeout:c.impl.options.httpTimeout=n.httpTimeout,void 0===n.styleCaching?c.impl.options.styleCaching=l.styleCaching:c.impl.options.styleCaching=n.styleCaching;let r=[];return Promise.resolve(e).then(function(e){if(e.nodeType===a)return e;var t=e,n=e.parentNode,o=document.createElement(\"span\");return n.replaceChild(o,t),o.append(e),r.push({parent:n,child:t,wrapper:o}),o}).then(function(e){return function l(t,a,i,u){const e=a.filter;if(t===h||d.isHTMLScriptElement(t)||d.isHTMLStyleElement(t)||d.isHTMLLinkElement(t)||null!==i&&e&&!e(t))return Promise.resolve();return Promise.resolve(t).then(n).then(o).then(function(e){return c(e,s(t))}).then(r).then(function(e){return f(e,t)});function n(e){return d.isHTMLCanvasElement(e)?d.makeImage(e.toDataURL()):e.cloneNode(!1)}function o(e){return a.adjustClonedNode&&a.adjustClonedNode(t,e,!1),Promise.resolve(e)}function r(e){return a.adjustClonedNode&&a.adjustClonedNode(t,e,!0),Promise.resolve(e)}function s(e){return d.isElementHostForOpenShadowRoot(e)?e.shadowRoot:e}function c(t,e){const n=r(e);let o=Promise.resolve();if(0!==n.length){const s=m(i(e));d.asArray(n).forEach(function(e){o=o.then(function(){return l(e,a,s,u).then(function(e){e&&t.appendChild(e)})})})}return o.then(function(){return t});function i(e){return d.isShadowRoot(e)?e.host:e}function r(e){return d.isShadowSlotElement(e)?e.assignedNodes():e.childNodes}}function f(u,c){return!d.isElement(u)||d.isShadowSlotElement(c)?Promise.resolve(u):Promise.resolve().then(e).then(t).then(n).then(o).then(function(){return u});function e(){function o(e,t){t.font=e.font,t.fontFamily=e.fontFamily,t.fontFeatureSettings=e.fontFeatureSettings,t.fontKerning=e.fontKerning,t.fontSize=e.fontSize,t.fontStretch=e.fontStretch,t.fontStyle=e.fontStyle,t.fontVariant=e.fontVariant,t.fontVariantCaps=e.fontVariantCaps,t.fontVariantEastAsian=e.fontVariantEastAsian,t.fontVariantLigatures=e.fontVariantLigatures,t.fontVariantNumeric=e.fontVariantNumeric,t.fontVariationSettings=e.fontVariationSettings,t.fontWeight=e.fontWeight}function e(e,t){const n=m(e);n.cssText?(t.style.cssText=n.cssText,o(n,t.style)):(y(a,e,n,i,t),null===i&&([\"inset-block\",\"inset-block-start\",\"inset-block-end\"].forEach(e=>t.style.removeProperty(e)),[\"left\",\"right\",\"top\",\"bottom\"].forEach(e=>{t.style.getPropertyValue(e)&&t.style.setProperty(e,\"0px\")})))}e(c,u)}function t(){const l=d.uid();function t(i){const r=m(c,i),s=r.getPropertyValue(\"content\");if(\"\"!==s&&\"none\"!==s){const t=u.getAttribute(\"class\")||\"\",n=(u.setAttribute(\"class\",t+\" \"+l),document.createElement(\"style\"));function e(){const e=`.${l}:`+i,t=(r.cssText?n:o)();return document.createTextNode(e+`{${t}}`);function n(){return`${r.cssText} content: ${s};`}function o(){const e=d.asArray(r).map(t).join(\"; \");return e+\";\";function t(e){const t=r.getPropertyValue(e),n=r.getPropertyPriority(e)?\" !important\":\"\";return e+\": \"+t+n}}}n.appendChild(e()),u.appendChild(n)}}[\":before\",\":after\"].forEach(function(e){t(e)})}function n(){d.isHTMLTextAreaElement(c)&&(u.innerHTML=c.value),d.isHTMLInputElement(c)&&u.setAttribute(\"value\",c.value)}function o(){d.isSVGElement(u)&&(u.setAttribute(\"xmlns\",\"http://www.w3.org/2000/svg\"),d.isSVGRectElement(u))&&[\"width\",\"height\"].forEach(function(e){const t=u.getAttribute(e);t&&u.style.setProperty(e,t)})}}}(e,i,null,t)}).then(p).then(g).then(function(t){i.bgcolor&&(t.style.backgroundColor=i.bgcolor);i.width&&(t.style.width=i.width+\"px\");i.height&&(t.style.height=i.height+\"px\");i.style&&Object.keys(i.style).forEach(function(e){t.style[e]=i.style[e]});let e=null;\"function\"==typeof i.onclone&&(e=i.onclone(t));return Promise.resolve(e).then(function(){return t})}).then(function(e){let n=i.width||d.width(e),o=i.height||d.height(e);return Promise.resolve(e).then(function(e){return e.setAttribute(\"xmlns\",\"http://www.w3.org/1999/xhtml\"),(new XMLSerializer).serializeToString(e)}).then(d.escapeXhtml).then(function(e){var t=(d.isDimensionMissing(n)?' width=\"100%\"':` width=\"${n}\"`)+(d.isDimensionMissing(o)?' height=\"100%\"':` height=\"${o}\"`);return`<svg xmlns=\"http://www.w3.org/2000/svg\"${(d.isDimensionMissing(n)?\"\":` width=\"${n}\"`)+(d.isDimensionMissing(o)?\"\":` height=\"${o}\"`)}><foreignObject${t}>${e}</foreignObject></svg>`}).then(function(e){return\"data:image/svg+xml;charset=utf-8,\"+e})}).then(function(e){for(;0<r.length;){var t=r.pop();t.parent.replaceChild(t.child,t.wrapper)}return e}).then(function(e){return c.impl.urlCache=[],function(){h&&(document.body.removeChild(h),h=null);w&&clearTimeout(w);w=setTimeout(()=>{w=null,v={}},2e4)}(),e})}function r(i,r){return f(i,r=r||{}).then(d.makeImage).then(function(e){var t=\"number\"!=typeof r.scale?1:r.scale,n=function(e,t){let n=r.width||d.width(e),o=r.height||d.height(e);d.isDimensionMissing(n)&&(n=d.isDimensionMissing(o)?300:2*o);d.isDimensionMissing(o)&&(o=n/2);e=document.createElement(\"canvas\");e.width=n*t,e.height=o*t,r.bgcolor&&((t=e.getContext(\"2d\")).fillStyle=r.bgcolor,t.fillRect(0,0,e.width,e.height));return e}(i,t),o=n.getContext(\"2d\");return o.msImageSmoothingEnabled=!1,o.imageSmoothingEnabled=!1,e&&(o.scale(t,t),o.drawImage(e,0,0)),n})}let h=null;function p(n){return e.resolveAll().then(function(e){var t;return\"\"!==e&&(t=document.createElement(\"style\"),n.appendChild(t),t.appendChild(document.createTextNode(e))),n})}function g(e){return n.inlineAll(e).then(function(){return e})}function y(e,t,r,s,n){const l=c.impl.options.copyDefaultStyles?function(t,e){var e=function(e){var t=[];do{if(e.nodeType===a){var n=e.tagName;if(t.push(n),E.includes(n))break}}while(e=e.parentNode,e);return t}(e),n=function(e){return(\"relaxed\"!==t.styleCaching?e:e.filter((e,t,n)=>0===t||t===n.length-1)).join(\">\")}(e);if(v[n])return v[n];var o=function(){if(h)return h.contentWindow;var e=document.characterSet||\"UTF-8\",t=document.doctype,t=t?(`<!DOCTYPE ${n(t.name)} ${n(t.publicId)} `+n(t.systemId)).trim()+\">\":\"\";return(h=document.createElement(\"iframe\")).id=\"domtoimage-sandbox-\"+d.uid(),h.style.visibility=\"hidden\",h.style.position=\"fixed\",document.body.appendChild(h),function(e,t,n,o){try{return e.contentWindow.document.write(t+`<html><head><meta charset='${n}'><title>${o}</title></head><body></body></html>`),e.contentWindow}catch(e){}var i=document.createElement(\"meta\");i.setAttribute(\"charset\",n);try{var r=document.implementation.createHTMLDocument(o),s=(r.head.appendChild(i),t+r.documentElement.outerHTML);return e.setAttribute(\"srcdoc\",s),e.contentWindow}catch(e){}return e.contentDocument.head.appendChild(i),e.contentDocument.title=o,e.contentWindow}(h,t,e,\"domtoimage-sandbox\");function n(e){var t;return e?((t=document.createElement(\"div\")).innerText=e,t.innerHTML):\"\"}}(),e=function(e,t){let n=e.body;do{var o=t.pop(),o=e.createElement(o);n.appendChild(o),n=o}while(0<t.length);return n.textContent=\"​\",n}(o.document,e),o=function(e,t){const n={},o=e.getComputedStyle(t);return d.asArray(o).forEach(function(e){n[e]=\"width\"===e||\"height\"===e?\"auto\":o.getPropertyValue(e)}),n}(o,e);return function(e){do{var t=e.parentElement;null!==t&&t.removeChild(e),e=t}while(e&&\"BODY\"!==e.tagName)}(e),v[n]=o}(e,t):{},u=n.style;d.asArray(r).forEach(function(e){var t,n=r.getPropertyValue(e),o=l[e],i=s?s.getPropertyValue(e):void 0;(n!==o||s&&n!==i)&&(o=r.getPropertyPriority(e),i=u,n=n,o=o,t=0<=[\"background-clip\"].indexOf(e=e),o?(i.setProperty(e,n,o),t&&i.setProperty(\"-webkit-\"+e,n,o)):(i.setProperty(e,n),t&&i.setProperty(\"-webkit-\"+e,n)))})}let w=null,v={};const E=[\"ADDRESS\",\"ARTICLE\",\"ASIDE\",\"BLOCKQUOTE\",\"DETAILS\",\"DIALOG\",\"DD\",\"DIV\",\"DL\",\"DT\",\"FIELDSET\",\"FIGCAPTION\",\"FIGURE\",\"FOOTER\",\"FORM\",\"H1\",\"H2\",\"H3\",\"H4\",\"H5\",\"H6\",\"HEADER\",\"HGROUP\",\"HR\",\"LI\",\"MAIN\",\"NAV\",\"OL\",\"P\",\"PRE\",\"SECTION\",\"SVG\",\"TABLE\",\"UL\",\"math\",\"svg\",\"BODY\",\"HEAD\",\"HTML\"]}(this);\n//# sourceMappingURL=dom-to-image-more.min.js.map","(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(a,b,c){var d=new XMLHttpRequest;d.open(\"GET\",a),d.responseType=\"blob\",d.onload=function(){g(d.response,b,c)},d.onerror=function(){console.error(\"could not download file\")},d.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype&&!a?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(b,d,e,g){if(g=g||open(\"\",\"_blank\"),g&&(g.document.title=g.document.body.innerText=\"downloading...\"),\"string\"==typeof b)return c(b,d,e);var h=\"application/octet-stream\"===b.type,i=/constructor/i.test(f.HTMLElement)||f.safari,j=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((j||h&&i||a)&&\"undefined\"!=typeof FileReader){var k=new FileReader;k.onloadend=function(){var a=k.result;a=j?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),g?g.location.href=a:location=a,g=null},k.readAsDataURL(b)}else{var l=f.URL||f.webkitURL,m=l.createObjectURL(b);g?g.location=m:location.href=m,g=null,setTimeout(function(){l.revokeObjectURL(m)},4E4)}});f.saveAs=g.saveAs=g,\"undefined\"!=typeof module&&(module.exports=g)});\n\n//# sourceMappingURL=FileSaver.min.js.map","/* global L */\nimport domtoimage from 'dom-to-image-more'\nimport fileSaver from 'file-saver'\n\nexport const STATUS_READY = 1\nexport const STATUS_PENDING = 2\nexport const ICON_SVG_BASE64 = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDMyIDMyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMiAzMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPjxnIGlkPSJjYW1lcmEiPjxwYXRoIHN0eWxlPSJmaWxsOiMwMTAwMDI7IiBkPSJNMTYsOS41MDFjLTQuNDE5LDAtOCwzLjU4MS04LDhjMCw0LjQxOCwzLjU4MSw4LDgsOGM0LjQxOCwwLDgtMy41ODIsOC04UzIwLjQxOCw5LjUwMSwxNiw5LjUwMXogTTIwLjU1NSwyMS40MDZjLTIuMTU2LDIuNTE2LTUuOTQzLDIuODA3LTguNDU5LDAuNjVjLTIuNTE3LTIuMTU2LTIuODA3LTUuOTQ0LTAuNjUtOC40NTljMi4xNTUtMi41MTcsNS45NDMtMi44MDcsOC40NTktMC42NUMyMi40MiwxNS4xMDIsMjIuNzExLDE4Ljg5MSwyMC41NTUsMjEuNDA2eiIvPjxwYXRoIHN0eWxlPSJmaWxsOiMwMTAwMDI7IiBkPSJNMTYsMTMuNTAxYy0yLjIwOSwwLTMuOTk5LDEuNzkxLTQsMy45OTl2MC4wMDJjMCwwLjI3NSwwLjIyNCwwLjUsMC41LDAuNXMwLjUtMC4yMjUsMC41LTAuNVYxNy41YzAuMDAxLTEuNjU2LDEuMzQzLTIuOTk5LDMtMi45OTljMC4yNzYsMCwwLjUtMC4yMjQsMC41LTAuNVMxNi4yNzYsMTMuNTAxLDE2LDEzLjUwMXoiLz48cGF0aCBzdHlsZT0iZmlsbDojMDEwMDAyOyIgZD0iTTI5LjQ5Miw4LjU0MmwtNC4zMzQtMC43MjNsLTEuMzczLTMuNDM0QzIzLjMyNiwzLjI0LDIyLjIzMiwyLjUsMjEsMi41SDExYy0xLjIzMiwwLTIuMzI2LDAuNzQtMi43ODYsMS44ODZMNi44NDIsNy44MTlMMi41MDksOC41NDJDMS4wNTUsOC43ODMsMCwxMC4wMjcsMCwxMS41djE1YzAsMS42NTQsMS4zNDYsMywzLDNoMjZjMS42NTQsMCwzLTEuMzQ2LDMtM3YtMTVDMzIsMTAuMDI3LDMwLjk0NSw4Ljc4MywyOS40OTIsOC41NDJ6IE0zMCwyNi41YzAsMC41NTMtMC40NDcsMS0xLDFIM2MtMC41NTMsMC0xLTAuNDQ3LTEtMXYtMTVjMC0wLjQ4OSwwLjM1NC0wLjkwNiwwLjgzNi0wLjk4Nkw4LjI4LDkuNjA3bDEuNzkxLTQuNDc4QzEwLjIyNCw0Ljc1LDEwLjU5MSw0LjUsMTEsNC41aDEwYzAuNDA4LDAsMC43NzUsMC4yNDksMC45MjgsMC42MjlsMS43OTEsNC40NzhsNS40NDUsMC45MDdDMjkuNjQ2LDEwLjU5NCwzMCwxMS4wMTEsMzAsMTEuNVYyNi41eiIvPjwvZz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+'\n\nexport const SimpleMapScreenshoter = L.Control.extend({\n    options: {\n        cropImageByInnerWH: true,\n        hidden: false,\n        domtoimageOptions: {},\n        position: 'topleft',\n        screenName: 'screen',\n        iconUrl: ICON_SVG_BASE64,\n        hideElementsWithSelectors: [\n            '.leaflet-control-container'\n        ],\n        onCropBorderSize: 2,\n        caption: null,\n        captionFontSize: 15,\n        captionFont: 'Arial',\n        captionColor: 'black',\n        captionBgColor: 'white',\n        captionOffset: 5,\n        mimeType: 'image/png',\n        debugMode: false,\n        preventDownload: false,\n        onPixelDataFail: function ({ node, error }) {\n            console.warn(`Map node is very big ${node.scrollWidth}x${node.scrollHeight}`)\n            console.warn(`Add function: SimpleMapScreenshoter({\n              onPixelDataFail: function({ node, plugin, error, mapPane, domtoimageOptions }) {\n                 // Solutions:\n                 // decrease size of map\n                 // or decrease zoom level\n                 // or remove elements with big distanses\n                 // and after that return image in Promise - plugin._getPixelDataOfNormalMap\n                 return plugin._getPixelDataOfNormalMap(domtoimageOptions)\n              }\n            })`)\n            return Promise.reject(error)\n        }\n    },\n    onAdd () {\n        this._container = L.DomUtil.create(\n            'div',\n            'leaflet-control-simpleMapScreenshoter'\n        )\n        this._link = null\n        this._screenState = {\n            status: STATUS_READY,\n            promise: null\n        }\n        if (this.options.hidden === false) {\n            this._addScreenBtn()\n        }\n\n        this._onUserStartInteractWithMap = this._onUserStartInteractWithMap.bind(this)\n        this._onUserEndInteractWithMap = this._onUserEndInteractWithMap.bind(this)\n\n        this._map.on('zoomstart', this._onUserStartInteractWithMap)\n        this._map.on('move', this._onUserStartInteractWithMap)\n\n        this._map.on('zoomend', this._onUserEndInteractWithMap)\n        this._map.on('moveend', this._onUserEndInteractWithMap)\n\n        return this._container\n    },\n    /**\n     * @param format {string} blob or png\n     * @param sreenOptions {Object}\n     * @returns {Promise<Blob>|Promise<Base64>} Blob or png image\n     */\n    takeScreen (format = 'blob', sreenOptions = {}) {\n        const options = {}\n        for (let opt in this.options) {\n            if (sreenOptions.hasOwnProperty(opt)) {\n                options[opt] = sreenOptions[opt]\n            } else {\n                options[opt] = this.options[opt]\n            }\n        }\n        if (this._screenState.status === STATUS_PENDING) {\n            return this._screenState.promise\n        }\n        this._map.fire('simpleMapScreenshoter.takeScreen')\n        this._screenState.status = STATUS_PENDING\n        this._setElementsVisible(false)\n        this._screenState.promise = this._waitEndOfInteractions()\n            .then(() => this._getPixelData(options))\n            .then(pixels => {\n                this._setElementsVisible(true)\n                return this._toCanvas(pixels, options)\n            })\n            .then(canvas => {\n                if (format === 'image') {\n                    return this._canvasToImage(canvas, options)\n                } else if (format === 'canvas') {\n                    return canvas\n                }\n                return this._canvasToBlob(canvas, options)\n            })\n            .then(image => {\n                this._screenState.status = STATUS_READY\n                this._map.fire('simpleMapScreenshoter.done')\n                return image\n            }).catch(e => {\n                this._setElementsVisible(true)\n                this._screenState.status = STATUS_READY\n                this._map.fire('simpleMapScreenshoter.error', {e})\n                return Promise.reject(e)\n            })\n        return this._screenState.promise\n    },\n    /**\n     * @param isVisible\n     * @private\n     */\n    _setElementsVisible (isVisible = false) {\n        this.options.hideElementsWithSelectors.forEach(selector => {\n            const els = this._map._container.querySelectorAll(selector)\n            for (let el of els) {\n                el.style.opacity = isVisible === false\n                    ? 0\n                    : 1\n            }\n        })\n    },\n    /**\n     * @param canvas\n     * @param mimeType\n     * @returns {Promise<Base64>}\n     * @private\n     */\n    _canvasToImage (canvas, {mimeType}) {\n        const image = canvas.toDataURL(mimeType)\n        if (image.indexOf('base64') === -1) {\n            return Promise.reject(new Error('Base64 image generation error'))\n        }\n        return Promise.resolve(image)\n    },\n    /**\n     * @param canvas {Canvas}\n     * @returns {Promise<Blob>}\n     * @private\n     */\n    _canvasToBlob (canvas, {mimeType}) {\n        return new Promise((resolve, reject) => {\n            canvas.toBlob(blob => {\n                resolve(blob)\n            }, mimeType)\n        })\n    },\n    /**\n     * @param pixels {Uint8Array}\n     * @param options {Object}\n     * @returns {Promise<Canvas>}\n     * @private\n     */\n    _toCanvas (pixels, options) {\n        let {captionOffset, caption, captionFontSize, captionFont, captionColor, captionBgColor} = options\n        let {screenHeight, screenWidth} = this._node\n        let canvas = document.createElement('canvas')\n        canvas.width = screenWidth\n        canvas.height = screenHeight\n\n        let ctx = canvas.getContext('2d')\n        let imageData = ctx.createImageData(screenWidth, screenHeight)\n        for (let i = 0; i < pixels.length; ++i) {\n            imageData.data[i] = pixels[i]\n        }\n        ctx.putImageData(imageData, 0, 0)\n        imageData = null\n\n        let transformedCanvas = document.createElement('canvas')\n        let transformedCanvasCtx = transformedCanvas.getContext('2d')\n        let minY = 0\n        let minX = 0\n        let height = screenHeight\n        let width = screenWidth\n\n        // crop blank opacity from image borders\n        if (this.options.cropImageByInnerWH === true) {\n            let pixelAtXYOffset = 0\n\n            let debugY = {}\n            let debugX = {}\n\n            let emptyYLine = []\n            let emptyCountOnHorizontal = 0\n            for (let y = 0; y < screenHeight; ++y) {\n                emptyCountOnHorizontal = 0\n                for (let x = 0; x < screenWidth; ++x) {\n                    pixelAtXYOffset = (4 * y * screenWidth) + (4 * x)\n                    // find opacity = 0 on horizontal\n                    if (pixels[pixelAtXYOffset + 4] === 0) {\n                        emptyCountOnHorizontal++\n                    }\n                    /* if (y === Math.round(screenHeight / 2)) {\n                        debugY[x] = pixels.slice(pixelAtXYOffset, pixelAtXYOffset + 4)\n                    } */\n                }\n                // save empty horizontal\n                if (emptyCountOnHorizontal === screenWidth) {\n                    emptyYLine.push(y)\n                }\n            }\n            const minMaxY = this._getMinAndMaxOnValuesBreak(emptyYLine)\n            minY = minMaxY.min\n            let maxX = screenWidth\n            let maxY = minMaxY.max\n\n            let emptyXLine = []\n            let emptyCountOnVertical = 0\n            for (let x = minX; x < maxX; ++x) {\n                emptyCountOnVertical = 0\n                for (let y = 0; y < screenHeight; ++y) {\n                    pixelAtXYOffset = (4 * y * screenWidth) + (4 * x)\n                    // find opacity = 0 on vertical\n                    if (pixels[pixelAtXYOffset + 4] === 0) {\n                        emptyCountOnVertical++\n                    }\n\n                    /* if (x === screenWidth - 5) {\n                        debugX[y] = pixels.slice(pixelAtXYOffset, pixelAtXYOffset + 4)\n                    } */\n                }\n                // save empty vertical\n                if (emptyCountOnVertical === screenHeight) {\n                    emptyXLine.push(x)\n                }\n            }\n            const minMaxX = this._getMinAndMaxOnValuesBreak(emptyXLine)\n            minX = minMaxX.min\n            maxX = minMaxX.max\n\n            if ((minX === 0 && maxX === 0) || maxX === null) {\n                maxX = screenWidth\n            }\n            if ((minY === 0 && maxY === 0) || maxY === null) {\n                maxY = screenHeight\n            }\n\n            if (this.options.debugMode === true) {\n                console.log('emptyYLine', emptyYLine)\n                console.log('minMaxY', minMaxY)\n                console.log('emptyXLine', emptyXLine)\n                console.log('minMaxX', minMaxX)\n                console.log('debugX', debugX)\n                console.log('debugY', debugY)\n            }\n\n            // if w/h changed, scale inner\n            if (minY !== 0 || maxY !== screenHeight || minX !== 0 || maxX !== screenWidth) {\n                minY = minY + this.options.onCropBorderSize\n                maxY = maxY - this.options.onCropBorderSize\n                minX = minX + this.options.onCropBorderSize\n                maxX = maxX - this.options.onCropBorderSize\n            }\n            height = maxY - minY\n            width = maxX - minX\n            transformedCanvas.width = width\n            transformedCanvas.height = height\n        } else {\n            transformedCanvas.width = width\n            transformedCanvas.height = height\n        }\n\n        let captionTxt = null\n        if (caption) {\n            captionTxt = typeof caption === 'function'\n                ? caption.call(this)\n                : caption\n        }\n\n        // increase size of canvas for write caption\n        if (captionTxt !== null) {\n            transformedCanvas.height = transformedCanvas.height + (captionOffset + captionFontSize + captionOffset)\n            // set bg color\n            transformedCanvasCtx.beginPath()\n            transformedCanvasCtx.rect(0, 0, transformedCanvas.width, transformedCanvas.height)\n            transformedCanvasCtx.fillStyle = captionBgColor\n            transformedCanvasCtx.fill()\n            transformedCanvasCtx.save()\n        }\n\n        transformedCanvasCtx.drawImage(canvas, minX, minY, width, height, 0, 0, width, height)\n\n        // write caption text\n        if (captionTxt !== null) {\n            transformedCanvasCtx.font = `${captionFontSize}px ${captionFont}`\n            transformedCanvasCtx.fillStyle = captionColor\n            transformedCanvasCtx.fillText(captionTxt, captionOffset, height + captionOffset + captionFontSize)\n        }\n\n        return Promise.resolve(transformedCanvas)\n    },\n    /**\n     * find break in array [0,1,2,3,40,41,42]\n     * we get 3 and 40\n     * @param arr {Array}\n     * @returns {{min: number, max: number}}\n     * @private\n     */\n    _getMinAndMaxOnValuesBreak (arr) {\n        let min = 0\n        let max = 0\n        let hasBreak = false\n        for (let i = 1; i < arr.length; i++) {\n            if (arr[i] - 1 === arr[i - 1]) {\n                min = arr[i]\n            } else {\n                max = arr[i]\n                hasBreak = true\n                break\n            }\n        }\n        // if on start no opacity, opacity may be exist on end\n        if (hasBreak === false && arr[0] > 1) {\n            min = 0\n            max = arr[0]\n            // opaciy at start\n        } else if (hasBreak === false) {\n            min = arr[arr.length - 1] || 0\n            max = null\n        }\n        return {min, max}\n    },\n    /**\n     * @param domtoimageOptions\n     * @returns {Promise<Uint8Array>}\n     * @private\n     */\n    _getPixelData ({domtoimageOptions = {}}) {\n        /**\n         * 1) we try try to get full map size screen, but we have problem of big canvas:\n         * https://stackoverflow.com/questions/6081483/maximum-size-of-a-canvas-element\n         * ie mobile - 4000\n         * ie - 8000\n         * chrome - 16000\n         * firefox - 32000\n         *\n         * 2) on error, we can create screen with hide not visible elements by css\n         * sometimes it not work, need solution\n         */\n        return this._getPixelDataOfNormalMap(domtoimageOptions).catch(e => {\n            console.warn('May be map size very big on that zoom level, we have error:', e.toString())\n            console.warn('You can manually hide map elements with large distances between them for fix that warn')\n            return this._getPixelDataOfBigMap(domtoimageOptions)\n        })\n    },\n    _getPixelDataOfNormalMap (domtoimageOptions = {}) {\n        const node = this._map.getContainer()\n\n        this._node = {\n            node,\n            screenHeight: node.scrollHeight,\n            screenWidth: node.scrollWidth\n        }\n\n        return domtoimage.toPixelData(node, domtoimageOptions)\n    },\n    _getPixelDataOfBigMap (domtoimageOptions = {}) {\n        const node = this._map.getContainer()\n\n        // fix: https://github.com/grinat/leaflet-simple-map-screenshoter/issues/7\n        // fix memory out error if map scrollHeight and scrollWidth very big\n        const mapPane = this._map.getPane('mapPane')\n\n        const increaser = 2 // <-- when window resize, map resize with translate option, we need what for prevent gray on borders\n        mapPane.style.width = `${node.clientWidth * increaser}px`\n        mapPane.style.height = `${node.clientHeight * increaser}px`\n        mapPane.style.overflow = 'hidden'\n\n        const restoreMapPane = () => {\n            mapPane.style.width = 'initial'\n            mapPane.style.height = 'initial'\n            mapPane.style.overflow = 'initial'\n        }\n\n        this._node = {\n            node,\n            screenHeight: node.scrollHeight,\n            screenWidth: node.scrollWidth\n        }\n\n        return domtoimage.toPixelData(node, domtoimageOptions).then(r => {\n            restoreMapPane()\n            return r\n        }).catch(e => {\n            restoreMapPane()\n\n            // 4000 - max canvas size on ie mobile\n            if (node.scrollHeight >= 4000 || node.scrollWidth >= 4000) {\n                return this.options.onPixelDataFail({\n                    plugin: this,\n                    node,\n                    mapPane,\n                    error: e,\n                    domtoimageOptions\n                })\n            }\n\n            return Promise.reject(e)\n        })\n    },\n    /**\n     * @private\n     */\n    _addScreenBtn () {\n        this._link = L.DomUtil.create(\n            'a',\n            'leaflet-control-simpleMapScreenshoter-btn',\n            this._container\n        )\n        this._addCss()\n        L.DomEvent.addListener(this._link, 'click', this._onScreenBtn, this)\n        L.DomEvent.disableClickPropagation(this._link)\n    },\n    /**\n     * @private\n     */\n    _addCss () {\n        let css = `\n    .leaflet-control-simpleMapScreenshoter{\n       border: 2px solid rgba(0,0,0,0.2);\n       background-clip: padding-box;\n    }\n    .leaflet-control-simpleMapScreenshoter a{\n       background-color: #fff;\n       border-bottom: 1px solid #ccc;\n       width: 30px;\n       height: 30px;\n       line-height: 30px;\n       display: block;\n       text-align: center;\n       text-decoration: none;\n       color: black;\n       overflow: hidden;\n       border-radius: 2px;\n       background-image: url('${this.options.iconUrl}');\n       background-position: 46% 41%;\n       background-repeat: no-repeat;\n       background-size: 63%;\n    }\n    .leaflet-control-simpleMapScreenshoter a:hover{\n       cursor: pointer;\n    }\n    `\n        let head = document.head || document.getElementsByTagName('head')[0]\n        let style = document.createElement('style')\n        style.appendChild(\n            document.createTextNode(\n                css\n            )\n        )\n        head.appendChild(style)\n    },\n    /**\n     * @private\n     */\n    _onScreenBtn () {\n        this._map.fire('simpleMapScreenshoter.click')\n        if (this.options.preventDownload) return\n\n        this.takeScreen().then(blob => {\n            const screenName = typeof this.options.screenName === 'function'\n                ? this.options.screenName.call(this)\n                : this.options.screenName\n\n            fileSaver.saveAs(blob, `${screenName}.png`)\n        }).catch(e => {\n            this._map.fire('simpleMapScreenshoter.error', {e})\n        })\n    },\n    _onUserStartInteractWithMap () {\n        this._interaction = true\n    },\n    _onUserEndInteractWithMap () {\n        this._interaction = false\n    },\n    _waitEndOfInteractions () {\n        return new Promise(resolve => {\n            const interval = setInterval(() => {\n                if (!this._interaction) {\n                    resolve()\n                    clearInterval(interval)\n                }\n            }, 100)\n        })\n    }\n})\n\nexport default SimpleMapScreenshoter\n","/* global L */\nimport SimpleMapScreenshoter from './SimpleMapScreenshoter'\n\n/**\n * @returns {L.Control.SimpleMapScreenshoter}\n */\nconst init = () => {\n    L.Control.SimpleMapScreenshoter = SimpleMapScreenshoter\n    L.simpleMapScreenshoter = function (options) {\n        return new L.Control.SimpleMapScreenshoter(options)\n    }\n    return SimpleMapScreenshoter\n}\n\nexport default init()\n\nexport {SimpleMapScreenshoter}\n"],"names":["s","d","e","escape","replace","isDataUrl","search","canvasToBlob","t","toBlob","Promise","i","u","toDataURL","split","n","length","o","Uint8Array","charCodeAt","Blob","type","resolveUrl","document","implementation","createHTMLDocument","createElement","head","appendChild","body","href","getAndEncode","c","impl","urlCache","find","url","promise","push","options","cacheBust","test","Date","getTime","httpTimeout","XMLHttpRequest","onreadystatechange","readyState","status","r","FileReader","onloadend","result","readAsDataURL","response","ontimeout","responseType","timeout","useCredentialsFilters","useCredentials","filter","withCredentials","corsImg","indexOf","window","location","origin","method","toUpperCase","open","headers","l","Object","keys","forEach","setRequestHeader","JSON","parse","stringify","data","send","console","error","imagePlaceholder","uid","Math","random","pow","toString","slice","delay","setTimeout","asArray","escapeXhtml","makeImage","Image","crossOrigin","onload","requestAnimationFrame","onerror","src","resolve","width","isNaN","scrollWidth","height","scrollHeight","getWindow","isElement","isElementHostForOpenShadowRoot","shadowRoot","isShadowRoot","isInShadowRoot","isHTMLElement","HTMLElement","isHTMLCanvasElement","HTMLCanvasElement","isHTMLInputElement","HTMLInputElement","isHTMLImageElement","HTMLImageElement","isHTMLLinkElement","HTMLLinkElement","isHTMLScriptElement","HTMLScriptElement","isHTMLStyleElement","HTMLStyleElement","isHTMLTextAreaElement","HTMLTextAreaElement","isShadowSlotElement","HTMLSlotElement","isSVGElement","SVGElement","isSVGRectElement","SVGRectElement","isDimensionMissing","ownerDocument","defaultView","ShadowRoot","prototype","hasOwnProperty","call","getRootNode","Element","nodeType","a","m","getPropertyValue","parseFloat","NaN","inlineAll","then","shouldProcess","readUrls","inline","exec","RegExp","resolveAll","all","map","join","readAll","styleSheets","getPrototypeOf","cssRules","bind","CSSRule","FONT_FACE_RULE","style","parentStyleSheet","cssText","getPropertyPriority","setProperty","childNodes","newImage","copyDefaultStyles","styleCaching","adjustClonedNode","toSvg","f","toPng","toJpeg","quality","toPixelData","getContext","getImageData","toCanvas","fontFaces","images","util","inliner","module","Node","ELEMENT_NODE","getComputedStyle","globalThis","atob","parentNode","replaceChild","append","parent","child","wrapper","h","cloneNode","assignedNodes","host","font","fontFamily","fontFeatureSettings","fontKerning","fontSize","fontStretch","fontStyle","fontVariant","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariationSettings","fontWeight","y","removeProperty","getAttribute","setAttribute","createTextNode","innerHTML","value","p","g","bgcolor","backgroundColor","onclone","XMLSerializer","serializeToString","pop","removeChild","w","clearTimeout","v","scale","fillStyle","fillRect","msImageSmoothingEnabled","imageSmoothingEnabled","drawImage","tagName","E","includes","textContent","contentWindow","characterSet","doctype","name","publicId","systemId","trim","id","visibility","position","write","documentElement","outerHTML","contentDocument","title","innerText","parentElement","this","b","dispatchEvent","MouseEvent","createEvent","initMouseEvent","self","global","navigator","userAgent","saveAs","HTMLAnchorElement","URL","webkitURL","j","download","rel","target","createObjectURL","revokeObjectURL","msSaveOrOpenBlob","autoBom","warn","safari","k","SimpleMapScreenshoter","L","Control","extend","node","reject","_container","DomUtil","create","_link","_screenState","hidden","_addScreenBtn","_onUserStartInteractWithMap","_onUserEndInteractWithMap","_map","on","format","sreenOptions","opt","fire","_setElementsVisible","_waitEndOfInteractions","_this","_getPixelData","_toCanvas","pixels","_canvasToImage","canvas","_canvasToBlob","image","catch","isVisible","hideElementsWithSelectors","els","_this2","querySelectorAll","selector","opacity","mimeType","Error","blob","captionOffset","caption","captionFontSize","captionFont","captionColor","captionBgColor","_node","screenHeight","screenWidth","ctx","imageData","createImageData","putImageData","transformedCanvas","transformedCanvasCtx","minY","minX","cropImageByInnerWH","emptyYLine","emptyCountOnHorizontal","x","minMaxY","_getMinAndMaxOnValuesBreak","min","maxX","maxY","max","emptyXLine","emptyCountOnVertical","minMaxX","debugMode","log","onCropBorderSize","captionTxt","beginPath","rect","fill","save","fillText","arr","hasBreak","domtoimageOptions","_getPixelDataOfNormalMap","_this3","_getPixelDataOfBigMap","getContainer","domtoimage","mapPane","getPane","clientWidth","clientHeight","overflow","restoreMapPane","_this4","onPixelDataFail","_addCss","DomEvent","addListener","_onScreenBtn","disableClickPropagation","css","iconUrl","getElementsByTagName","preventDownload","takeScreen","screenName","_this5","_interaction","interval","setInterval","_this6","simpleMapScreenshoter"],"mappings":"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"}